{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
  "version": "0.2.0",
  "configurations": [
    {
      "type": "node",
      "request": "launch",
      "name": "Service",
      "program": "${workspaceFolder}/services/${input:service}/src/service.ts",
      "outFiles": ["${workspaceFolder}/services/${input:service}/dist/service.js"],
      "cwd": "${workspaceFolder}/services/${input:service}",
      "skipFiles": ["<node_internals>/**"],
      "preLaunchTask": "npm: build:services"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Service Patch",
      "program": "${workspaceFolder}/services/${input:service}/src/patch.ts",
      "outFiles": ["${workspaceFolder}/services/${input:service}/dist/patch.js"],
      "cwd": "${workspaceFolder}/services/${input:service}",
      "skipFiles": ["<node_internals>/**"],
      "preLaunchTask": "npm: build:services"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Service Seed",
      "program": "${workspaceFolder}/services/${input:service}/src/seed.ts",
      "outFiles": ["${workspaceFolder}/services/${input:service}/dist/seed.js"],
      "cwd": "${workspaceFolder}/services/${input:service}",
      "skipFiles": ["<node_internals>/**"],
      "preLaunchTask": "npm: build:services"
    },
    {
      "type": "node",
      "request": "launch",
      "name": "Debug Worker",
      "program": "${workspaceFolder}/workers/${input:worker}/src/worker.ts",
      "outFiles": ["${workspaceFolder}/workers/${input:worker}/dist/worker.js"],
      "cwd": "${workspaceFolder}/workers/${input:worker}",
      "skipFiles": ["<node_internals>/**"],
      "preLaunchTask": "npm: build:workers",
      "env": {
        "ENABLE_NVENC": "true"
      }
    }
  ],
  "inputs": [
    {
      "id": "service",
      "type": "pickString",
      "description": "Select one service from above",
      "options": ["auth", "diag", "media", "xpense"]
    },
    {
      "id": "worker",
      "type": "pickString",
      "description": "Select one worker from above",
      "options": ["media-encoder"]
    }
  ]
}
